<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="utf-8">
        <title>演習課題3-4：自動販売機</title>
    </head>
    <body>
        <script>
            const items = [
                { id: 1, name: "緑茶", price: 140, stock: 5 },
                { id: 2, name: "水", price: 100, stock: 14 },
                { id: 3, name: "オレンジジュース", price: 150, stock: 7 },
                { id: 4, name: "リンゴジュース", price: 150, stock: 9 },
                { id: 5, name: "炭酸水", price: 120, stock: 1 },
                { id: 6, name: "サイダー", price: 160, stock: 3 },
                { id: 7, name: "コーヒー", price: 170, stock: 8 },
                { id: 8, name: "紅茶", price: 140, stock: 6 }
            ];

            function showItemList() {
                console.log("商品は以下の" + items.length + "種類です。");
                items.forEach(item => {
                    console.log(`商品番号: ${item.id}, 商品名: ${item.name}, 金額: ${item.price}, 在庫数: ${item.stock}`);
                });
                console.log(""); 
            }

            function buyItem(no) {
                const item = items.find(i => i.id === no);
                if (!item) {
                    console.log(`${no}は有効な商品番号です。番号は1～8で指定してください。`);
                    return;
                }
                if (item.stock > 0) {
                    console.log(`商品番号: ${item.id}, 商品名: ${item.name}を購入します。`);
                    item.stock--;
                    showItemList();
                }
            }

            showItemList();
            buyItem(3);
            buyItem(5);
            buyItem(5);
        </script>
    </body>
</html>
